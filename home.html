<!DOCTYPE html>
<html>
  <head>
   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Monograph â€¢ Home</title>
  
  </head>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/bdf8decc13.js" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="style.css" type="text/css" media="all" />
  <body>
    <nav class="navbar navbar-expand-lg border-bottom shadow-sm">
    <div class="container-fluid">
        <button class="btn btn-link text-dark menu-btn" type="button" id="hidden_btn">
            <i class="fas fa-circle-info"></i>
        </button>
        <span class="navbar-brand mx-auto fw-bold fs-1">Monograph</span>
        <div>
            <a href="index.html" class="btn btn-link text-dark home-btn">
                <i class="fas fa-right-from-bracket"></i>
            </a>
        </div>
    </div>
</nav>

<br>
<h2>New Finds</h2>


<!-- Cards Section -->
<div class="container text-center">
    <div class="row row-cols-2 row-cols-sm-2 row-cols-sm-2 g-4" id="bookcontainer">





    </div>
</div>

  </body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  
  
  <script src="https://cdn.jsdelivr.net/npm/appwrite@16.1.0"></script>
<script>
    const { Client, Databases } = Appwrite;
    const DATABASE_ID = "67b9b8db00288cb3b0ec";
    const COLLECTION_ID = "67b9b8e90009de0b198e";
    
    
    const client = new Client();
    client.setProject('67b9b83d0025fda6fe0f');
    
    const databases = new Databases(client);

    async function getBooks(){
      let response = await databases.listDocuments(
        DATABASE_ID,
        COLLECTION_ID
    );
    
    return response.documents
}
    
    
  const bookContainer = document.getElementById("bookcontainer");
 async function displayData() {
    const books = await getBooks();
    
    for (let i=0; books.length > i; i++){
      const title = books[i].title;
      const image = books[i].image;
      const url = books[i].url;
      
      
      bookContainer.innerHTML += `
      <a href="${url}" class="text-decoration-none" id="download_link">
    <div class="col">
        <div class="card shadow-sm rounded-4">
            <img src="${image}" 
                 class="card-img-top" 
                 alt="Book image">
            <div class="card-body">
                <h5 class="card-title fw-bold">${title}</h5>
                <p class="card-text text-muted"></p>
            </div>
        </div>
    </div>
    </a>`;
    }
  }

displayData();


document.getElementById("download_link").onclick = function (){
  alert("Downloading...");
}
</script>
</html>